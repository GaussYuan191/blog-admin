[{"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/reportWebVitals.js":"1","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/music-list/index.tsx":"2","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/tag-add/index.tsx":"3","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/messages-list/index.tsx":"4","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/article-list/index.tsx":"5","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/common/layout/menu-config.ts":"6","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/utils/config.ts":"7","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/login/index.tsx":"8","/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/article-draft/index.tsx":"9"},{"size":362,"mtime":1611484371000,"results":"10","hashOfConfig":"11"},{"size":1766,"mtime":1611484371000,"results":"12","hashOfConfig":"11"},{"size":268,"mtime":1611484371000,"results":"13","hashOfConfig":"11"},{"size":2717,"mtime":1611484371000,"results":"14","hashOfConfig":"11"},{"size":2777,"mtime":1611484371000,"results":"15","hashOfConfig":"11"},{"size":2369,"mtime":1611484371000,"results":"16","hashOfConfig":"11"},{"size":235,"mtime":1654789020975,"results":"17","hashOfConfig":"11"},{"size":1692,"mtime":1611484371000,"results":"18","hashOfConfig":"11"},{"size":2416,"mtime":1611484371000,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"pnrf3x",{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/reportWebVitals.js",[],["41","42"],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/music-list/index.tsx",["43"],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/tag-add/index.tsx",[],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/messages-list/index.tsx",[],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/article-list/index.tsx",["44"],"import React, { useState, useEffect } from 'react'\nimport { Table, Divider, message } from 'antd'\nimport { RouteComponentProps } from 'react-router'\nimport { TablePaginationConfig } from 'antd/es/table'\nimport { columns } from './article-config'\nimport PageLayout from '../../common/components/page-layout'\nimport { getArts, delArt } from '../../utils/api'\n\nimport './index.scss'\n\ntype EditableTableProps = Parameters<typeof Table>[0];\ntype ColumnTypes = Exclude<EditableTableProps['columns'], undefined>;\n\nconst ArticleList = (props:RouteComponentProps) => {\n  const [list, setList] = useState([])\n  const [page, setPage] = useState({ current: 1, total: 0 })\n  const [loading, setLoading] = useState(false)\n  const [load, setLoad] = useState(0)\n  useEffect(() => {\n    (async () => {\n      setLoading(true)\n      const { data } = await getArts({current_page: page.current, state: 1})\n      if (data.code) {\n        const { list, pagination } = data.result\n        setList(list || [])\n        setPage({current: pagination.current_page, total: pagination.total})\n      }\n      setLoading(false)\n    })()\n  }, [load])\n  // 编辑\n  async function edit (id: string) {\n    props.history.push(`/article-add?id=${id}`)\n  }\n  // 删除\n  async function del (id: string) {\n    const {data} = await delArt(id)\n    if (data.code) {\n      message.success(data.message)\n      setPage({ current: 1, total: 0 })\n      setLoad(load + 1)\n    }\n  }\n  const tableColumns = columns.map(col => {\n    if (col.dataIndex === 'operation') {\n      return {\n        ...col,\n        onCell: (record:any) => ({col, record, edit, del})\n      }\n    }\n    return col\n  })\n  const components = { body: { cell: TCell } }\n  function tableChange (pagination: TablePaginationConfig) {\n    setPage({ current: pagination.current || 1, total: pagination.total || 0 })\n    setLoad(load + 1)\n  }\n  return <PageLayout title='文章列表'>\n    <Table\n      onChange={tableChange}\n      components={components}\n      columns={tableColumns as ColumnTypes}\n      loading={loading}\n      dataSource={list}\n      bordered\n      size=\"middle\"\n      pagination={page}\n      rowKey=\"_id\" />\n  </PageLayout>\n}\n\nfunction TCell (props: any) {\n  const { children, col } = props\n  let res:any = col && col.dataIndex === 'operation' ? <Operate {...props} /> : children\n  return <td>{res}</td>\n}\n\nexport function Operate (props: any) {\n  const { edit, del, record} = props\n  const view = () => {\n    console.log('view')\n  }\n  return (\n    <div className=\"t_btn\">\n      <span onClick={view}>查看</span>\n      <Divider type=\"vertical\" />\n      <span onClick={() => edit(record._id)}>修改</span>\n      <Divider type=\"vertical\" />\n      <span onClick={() => del(record._id)}>删除</span>\n    </div>\n  )\n}\n\nexport default ArticleList\n",["45","46"],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/common/layout/menu-config.ts",[],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/utils/config.ts",[],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/login/index.tsx",[],"/Users/dengsuyuan/Downloads/Codeapp/Blog/blog-admin/src/pages/article-draft/index.tsx",["47"],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":24,"column":6,"nodeType":"54","endLine":24,"endColumn":15,"suggestions":"55"},{"ruleId":"52","severity":1,"message":"53","line":30,"column":6,"nodeType":"54","endLine":30,"endColumn":12,"suggestions":"56"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":24,"column":6,"nodeType":"54","endLine":24,"endColumn":12,"suggestions":"57"},"no-native-reassign",["58"],"no-negated-in-lhs",["59"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'page'. Either include it or remove the dependency array.","ArrayExpression",["60"],["61"],["62"],"no-global-assign","no-unsafe-negation",{"desc":"63","fix":"64"},{"desc":"65","fix":"66"},{"desc":"65","fix":"67"},"Update the dependencies array to be: [page, refresh]",{"range":"68","text":"69"},"Update the dependencies array to be: [load, page]",{"range":"70","text":"71"},{"range":"72","text":"71"},[921,930],"[page, refresh]",[1108,1114],"[load, page]",[926,932]]